function custom_cors_headers($allowed_origins = ["https://tonny.blog", "https://www.tonny.blog"]) {
    $origin = $_SERVER['HTTP_ORIGIN'] ?? '';
    
    if (in_array($origin, $allowed_origins)) {
        header("Access-Control-Allow-Origin: {$origin}");
        header("Access-Control-Allow-Methods: GET, POST, OPTIONS");
        header("Access-Control-Allow-Headers: Content-Type, Authorization");
        header("Access-Control-Allow-Credentials: true");
    } else {
        // 可選: 對於不允許的來源,你可以決定是否要設置一個默認的 CORS 策略
        // 或者簡單地不設置任何 CORS 頭
        // header("Access-Control-Allow-Origin: null");
    }
    
    // 對於 OPTIONS 請求,我們可以在這裡結束請求
    if ($_SERVER['REQUEST_METHOD'] == 'OPTIONS') {
        exit(0);
    }
}
